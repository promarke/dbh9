# HR & User Management টেস্টিং গাইড

## টেস্ট পরিস্থিতি

### টেস্ট ১: ব্যবহারকারী তৈরি এবং HR সিঙ্ক

**পদক্ষেপ:**
1. User Management মডিউলে যান
2. "নতুন ব্যবহারকারী তৈরি করুন" বাটনে ক্লিক করুন
3. নিম্নলিখিত তথ্য পূরণ করুন:
   - নাম: "রহিম আহমেদ"
   - ইমেইল: "rahim@example.com"
   - ফোন: "01700000001"
   - ব্র্যান্চ: "প্রধান শাখা"
   - বিভাগ: "বিক্রয়"
   - ভূমিকা: "কর্মচারী"
4. সৃষ্টি করুন

**যাচাই:**
- [ ] ব্যবহারকারী সফলভাবে তৈরি হয়েছে
- [ ] HR ড্যাশবোর্ডে যান এবং কর্মচারীদের তালিকা দেখুন
- [ ] "রহিম আহমেদ" তালিকায় আছে কি?
- [ ] সমস্ত ডেটা মিলে যায় কি?

**সম্ভাব্য সমস্যা ডিবাগিং:**
```
যদি HR রেকর্ড তৈরি না হয়:
1. ব্রাউজার কনসোল চেক করুন (F12)
2. কোন এরর মেসেজ আছে কি?
3. ব্র্যান্চ সঠিকভাবে পাস করা হয়েছে কি?
```

---

### টেস্ট ২: ব্যবহারকারী আপডেট এবং সিঙ্ক

**পদক্ষেপ:**
1. উপরের টেস্টে তৈরি ব্যবহারকারী খুঁজুন
2. এডিট বাটনে ক্লিক করুন
3. নিম্নলিখিত পরিবর্তন করুন:
   - ফোন: "01700000002" এ পরিবর্তন করুন
   - বিভাগ: "অপারেশন" এ পরিবর্তন করুন
4. সংরক্ষণ করুন

**যাচাই:**
- [ ] ব্যবহারকারী আপডেট হয়েছে
- [ ] HR তালিকায় যান
- [ ] একই কর্মচারীর ফোন নম্বর আপডেট হয়েছে কি?
- [ ] বিভাগ "অপারেশন" এ পরিবর্তিত হয়েছে কি?

---

### টেস্ট ३: কর্মচারী তৈরি এবং ব্যবহারকারী সিঙ্ক

**পদক্ষেপ:**
1. HR Management মডিউলে যান
2. "নতুন কর্মচারী" বাটনে ক্লিক করুন
3. নিম্নলিখিত তথ্য পূরণ করুন:
   - প্রথম নাম: "ফাতিমা"
   - শেষ নাম: "খান"
   - ইমেইল: "fatima@example.com"
   - ফোন: "01700000003"
   - জন্মতারিখ: "1995-06-15"
   - ব্র্যান্চ: "প্রধান শাখা"
   - বিভাগ: "অ্যাকাউন্টিং"
   - পদ: "অফিসার"
   - বেসিক স্যালারি: "25000"
   - গ্রস স্যালারি: "30000"
4. তৈরি করুন

**যাচাই:**
- [ ] কর্মচারী সফলভাবে তৈরি হয়েছে
- [ ] User Management যান
- [ ] "ফাতিমা খান" ব্যবহারকারী তালিকায় আছে কি?
- [ ] স্বয়ংক্রিয় ইমেইল "fatima@example.com" এ সেট হয়েছে কি?
- [ ] ডিফল্ট ভূমিকা সেট হয়েছে কি?

---

### টেস্ট ४: কর্মচারী আপডেট এবং ব্যবহারকারী সিঙ্ক

**পদক্ষেপ:**
1. উপরের টেস্টে তৈরি কর্মচারী খুঁজুন
2. এডিট বাটনে ক্লিক করুন
3. নিম্নলিখিত পরিবর্তন করুন:
   - বিভাগ: "মানব সম্পদ" এ পরিবর্তন করুন
   - পদ: "ম্যানেজার" এ পরিবর্তন করুন
4. সংরক্ষণ করুন

**যাচাই:**
- [ ] কর্মচারী আপডেট হয়েছে
- [ ] User Management যান এবং একই ব্যবহারকারী খুঁজুন
- [ ] বিভাগ "মানব সম্পদ" এ আপডেট হয়েছে কি?
- [ ] পদ "ম্যানেজার" এ আপডেট হয়েছে কি?

---

### টেস্ট ५: Payroll এ বোনাস অন্তর্ভুক্তি

**পদক্ষেপ:**
1. Bonus/Incentive মডিউলে যান
2. "বোনাস যোগ করুন" বাটনে ক্লিক করুন
3. নিম্নলিখিত তথ্য পূরণ করুন:
   - কর্মচারী: "ফাতিমা খান" নির্বাচন করুন
   - বোনাস ধরন: "পারফরম্যান্স"
   - পরিমাণ: "5000"
   - কারণ: "উচ্চতর বিক্রয় কর্মক্ষমতা"
4. যোগ করুন
5. বোনাস অনুমোদন করুন

**যাচাই:**
- [ ] বোনাস তৈরি এবং অনুমোদিত হয়েছে
- [ ] এখন Payroll জেনারেট করুন (বর্তমান মাসের জন্য)
- [ ] Payroll তালিকায় "ফাতিমা খান" খুঁজুন
- [ ] `bonusAmount` ৫০০০ টাকা থাকা উচিত
- [ ] `totalEarnings` বেসিক + ওভারটাইম + বোনাস অন্তর্ভুক্ত কি?

---

### টেস্ট ६: Payroll এ ওভারটাইম অন্তর্ভুক্তি

**পদক্ষেপ:**
1. Overtime মডিউলে যান
2. "ওভারটাইম রেকর্ড যোগ করুন" বাটনে ক্লিক করুন
3. নিম্নলিখিত তথ্য পূরণ করুন:
   - কর্মচারী: "ফাতিমা খান" নির্বাচন করুন
   - তারিখ: "2026-01-25"
   - ওভারটাইম ঘণ্টা: "4"
   - হার: "500" (প্রতি ঘণ্টা)
   - কারণ: "প্রজেক্ট ডেডলাইন"
4. যোগ করুন
5. অনুমোদন করুন

**যাচাই:**
- [ ] ওভারটাইম রেকর্ড তৈরি এবং অনুমোদিত হয়েছে
- [ ] Payroll জেনারেট করুন (একই মাসের জন্য)
- [ ] Payroll এ `overtimeAmount` গণনা করা হয়েছে কি?
  - (প্রত্যাশিত: ৪ × ৫০০ × ১০০ = কিছু রাশি)

---

## দ্রুত ডিবাগিং টিপস

### যদি সিঙ্ক কাজ না করে:

```
1. ব্রাউজার কনসোল চেক করুন:
   - Ctrl + Shift + K (Windows)
   - Cmd + Option + K (Mac)

2. নেটওয়ার্ক ট্যাব চেক করুন:
   - API ক্যালগুলি ব্যর্থ হচ্ছে কি?
   - প্রতিক্রিয়া কী?

3. ডাটাবেস সরাসরি চেক করুন:
   - Convex ড্যাশবোর্ডে যান
   - টেবিল দেখুন (userManagement, hrEmployees)
   - ডেটা আছে কি?

4. মিউটেশন লজিক যাচাই করুন:
   - Log স্টেটমেন্ট যোগ করুন
   - কোন শাখায় ব্যর্থ হচ্ছে?
```

---

## সাফল্যের সূচক

✅ **সিঙ্ক কাজ করছে যদি:**
- ব্যবহারকারী তৈরি → HR রেকর্ড স্বয়ংক্রিয়ভাবে তৈরি হয়
- কর্মচারী তৈরি → ব্যবহারকারী অ্যাকাউন্ট স্বয়ংক্রিয়ভাবে তৈরি হয়
- যেকোনো আপডেট উভয় টেবিলে প্রতিফলিত হয়
- বোনাস এবং ওভারটাইম Payroll এ অন্তর্ভুক্ত হয়
- সমস্ত মূল্য সঠিকভাবে গণনা করা হয়

❌ **সিঙ্ক ব্যর্থ যদি:**
- তথ্য শুধুমাত্র একটি টেবিলে থাকে
- ডেটা অসামঞ্জস্যপূর্ণ
- মূল্য সঠিকভাবে গণনা করা হয় না
- ওভারটাইম/বোনাস Payroll এ দেখা যায় না

---

**দ্রুত রেফারেন্সের জন্য এই গাইড ব্যবহার করুন।**
